{% set disciplines = get_disciplines() %}
{% set states = get_states() %}

<div id="left">
  <div class="box">
    <h2>{{ 'discipline_type'|trans|upper }}</h2>
    <ul class="menuv">
    {% for discipline in disciplines %}
      <li>
        <a {% if currentDiscipline is defined and currentDiscipline == discipline.url %}class="current"{% endif %}
           href="{{ path('sport', {'discipline' : discipline.url }) }}">
          {{ discipline.name|upper }}
        </a>
        {% if currentDiscipline is defined and currentDiscipline == discipline.url %}
          <ul class="menuv-second">
            {% for state in states %}
              <li>
                <a {% if currentState is defined and currentState == state.url %}class="current"{% endif %}
                   href="{{ path('sport_state', {'discipline' : discipline.url, 'state' : state.url }) }}">
                  {{ state.name|upper }}
                </a>
              </li>
            {% endfor %}
          </ul>
        {% endif %}
      </li>
    {% endfor %}
    </ul>
  </div>
</div>